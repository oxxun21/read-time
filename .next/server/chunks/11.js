"use strict";exports.id=11,exports.ids=[11],exports.modules={49011:(e,s,t)=>{t.r(s),t.d(s,{GET:()=>n,POST:()=>n,authOptions:()=>c});var r=t(92319),i=t(3471),a=t.n(i),d=t(28835);let c={providers:[(0,d.Z)({clientId:"a183bb0cdf8f9a8dd0bc0dbc007855df",clientSecret:"dw4AbPuHAAcYi04eTxyR8FXuxXQJa5lW"})],callbacks:{async signIn({user:e,account:s,profile:t}){let i=await (0,r.TR)(),a=i.db(),d=a.collection("users"),c=await d.findOne({id:e.id});return c||await d.insertOne(e),i.close(),!0},session:({session:e,token:s})=>({...e,id:s.sub}),redirect:async(e,s)=>e&&e.startsWith(s)?Promise.resolve(e):Promise.resolve(s)},secret:"tNhuMEzaEr6lgdXYZkwgXc/Hk92/4r6EYK4OTtUzFVM=",database:process.env.DATABASE_URL},n=a()(c)}};